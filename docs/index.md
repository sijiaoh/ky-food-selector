# KY点餐

## 背景情报

在公司聚餐时, 需要点菜, 但是点菜的工作比较麻烦, 需要考虑很多因素, 比如人数、预算、菜品类型、温度、荤素搭配等。
KY点餐是一个点菜工具, 可以根据输入的情报, 自动生成一份菜品清单, 满足预算和输入情报的要求。

## 输入情报

- 预设配置（快速配置）
  - 家庭聚餐（6人，300元）
  - 商务宴请（8人，500元）
  - 简单聚会（3人，150元）
  - 保存自定义配置
- 人数
- 预算
- 类型搭配
- 温度搭配
- 荤素搭配
- 标签搭配
  - 可以要求部分标签个数
  - 可以排除部分标签
- 菜单Excel

### 菜品情报

- 菜名
- 价格
- 类型
  - [主食, 主菜, 副菜, 汤, 点心]
- 温度
  - [空值(无), 冷, 热, 无]
- 荤素
  - [空值(无), 荤, 素, 无]
- 标签
  - [鸡肉, 羊肉, 海鲜, etc...]
  - 用空格或逗号分割
- 基础个数
  - [空值(1), 1, 2...]
- 根据人数加量
  - [空值(NO), Yes, No]

## 画面

由以下部件构成

- 文件上传区
  - 拖拽上传支持
  - 示例文件下载
  - 加载状态显示
- 菜单展示区
  - 数据统计概览（总行数、有效菜品、解析时间）
  - 紧凑网格布局显示菜品列表
  - 双行信息显示：主要信息（菜名+价格）和详细信息（类型、数量、属性、标签）
  - 智能数量标记：基础数量和人数加量标识
  - 解析错误详细报告
- 约束条件设置区
  - 快速配置
    - 预设配置按钮: 家庭聚餐/商务宴请/简单聚会
    - 保存配置按钮: 保存当前设置
    - 智能提示: 菜品总数统计、预算建议、警告提示
  - 人数: 数字
  - 预算: 数字
  - 类型搭配
    - 各个数字,可为空值
  - 温度
    - 各个数字,可为空值
  - 荤素
    - 各个数字,可为空值
  - 标签
    - 显示所有标签
    - 可以点击排除(变暗)
    - 可以输入数字,默认空值
- 结果展示区
  - 生成按钮
  - 统计概览（菜品总数、总价格、生成时间）
  - 菜品清单表格
    - 菜品详细信息和价格
    - 数量和单价显示
    - 操作按钮（固定、替换、移除）
  - 手动调整功能
    - 可以固定菜品（避免重新生成时替换）
    - 可以替换菜品（智能推荐同类型选项）
    - 可以移除菜品（自动重新计算）
    - 批量应用调整或重置
- 版本信息区
  - 应用版本和构建时间
  - 缓存清理功能

## 生成规则

- 总金额要在预算之内
- 需要满足输入情报内容
  - 如果无法满足中断生成显示错误
- 在满足预算和输入情报的前提下
  - 尽量多的菜品
  - 尽量多的类型
  - 尽量均匀的温度
  - 尽量均匀的荤素
  - 尽量不重复的标签
- 汤和点心不计算在预算内
- 汤和点心没有输入不要加入
- 生成时的菜品最低数量是基础数量
  - 固定后手动调整数量时可以小于基础数量
- 根据人数加量的菜品总金额是金额乘以人数
